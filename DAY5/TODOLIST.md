📋 SOP：視覺辨識軟體開發任務清單
階段一：GUI 基礎建置
任務

使用 CustomTkinter 建立主介面，分為：

Webcam 模式頁面

靜態圖片模式頁面

在畫面中建立 影像顯示區域。

在側邊/下方建立 控制區域（按鈕、checkbox、下拉式選單）。

初步標準

軟體啟動後能正常顯示 GUI。

頁面切換正常。

驗收規格

GUI 無閃退。

功能按鈕有預留 callback（雖然未實作）。

頁面切換 < 0.5 秒。

階段二：Webcam 串流功能
任務

新增「開啟 Webcam」與「關閉 Webcam」按鈕。

新增攝影機下拉選單，可選擇 USB0、USB1…。

開啟串流後在畫面區域顯示即時影像。

初步標準

Webcam 可被正確開啟與關閉。

支援單一攝影機切換。

驗收規格

影像顯示 ≥15 FPS。

切換攝影機時可正確切換來源。

階段三：靜態圖片載入
任務

新增「載入圖片」按鈕。

支援載入 bmp/jpg/png 檔案。

在畫面區域顯示圖片。

初步標準

使用者能選擇並顯示圖片。

驗收規格

支援至少 3 種圖片格式。

圖片顯示完整、不失真。

階段四：OpenCV 計算結果顯示
任務

新增 Checkbox（顯示計算結果）。

若勾選 → 對影像進行：

灰階 → 高斯模糊 → 邊緣檢測 → 霍夫圓檢測。

鎖定四個角落孔洞 → 繪製圓與邊框。

若取消勾選 → 顯示原始影像。

初步標準

至少能在 70% 以上的測試圖片中檢測到四個角落。

驗收規格

能成功標註四個角落圓（若不足四個，顯示提示「未檢測到完整四角」）。

勾選/取消時能即時切換效果。

階段五：邊長計算與單位換算
任務

計算四邊邊長：AB, BC, CD, DA。

新增單位下拉式選單（pixel, mm, inch）。

設定單位換算公式：

1 pixel = 0.5 mm = 0.5/25.4 inch

顯示結果：

疊加在影像上。

右側文字區塊。

保留小數點後兩位。

初步標準

不同單位顯示數值正確。

驗收規格

切換單位時數據會即時更新。

精度固定小數點後 2 位。

階段六：結果保存
任務

新增「保存結果」按鈕。

保存：

影像（含標註 → JPG）。

數據（四邊邊長 → CSV/TXT）。

初步標準

點擊保存後，檔案能產生在指定目錄。

驗收規格

影像保存與顯示一致。

CSV 格式：

AB(mm), BC(mm), CD(mm), DA(mm)
12.34, 56.78, 90.12, 34.56


檔案命名規則：result_YYYYMMDD_HHMMSS.jpg/csv。

階段七：錯誤處理與防呆
任務

Webcam 未接入 → 提示「未偵測到攝影機」。

靜態圖片無效檔案 → 提示「檔案格式錯誤」。

檢測不足四個孔洞 → 提示「未檢測到完整四角」。

初步標準

常見錯誤有提示訊息。

驗收規格

使用者操作錯誤不會導致程式閃退。

所有錯誤訊息均為可讀中文。

✅ 交付標準：
完成以上七階段，並通過每項驗收規格，方能交付第一版 (MVP)。